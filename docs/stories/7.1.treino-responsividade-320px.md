# Story 7.1: Correção de Responsividade da Aba de Treino para 320px

## Status
In Progress

## Story
**As a** usuário mobile com dispositivo de 320px de largura,  
**I want** visualizar e interagir com a aba de treino de forma completamente funcional,  
**so that** eu possa ter uma experiência fluida sem problemas de layout, scroll duplo ou dados quebrados/sobrepostos.

## Acceptance Criteria

### Funcional
1. **Layout Responsivo**: Todos os elementos da aba de treino devem se ajustar corretamente em dispositivos de 320px de largura
2. **Cards de Treino**: Cards de treino (ex: "Treino A", "Treino C") devem manter proporções adequadas sem quebra de texto ou sobreposição
3. **Informações Legíveis**: Textos como "8 exercícios", "1h24 séries", "18 séries", "22 realizadas" devem estar totalmente visíveis e legíveis
4. **Exercícios Individuais**: Cards de exercícios (ex: "Flexão de Braço", "Agachamento Livre") devem exibir todas as informações sem truncamento

### Popups e Modais
5. **Popup Único de Scroll**: Popups de exercícios devem ter apenas um scroll interno, eliminando o scroll duplo
6. **Modal de Treino Concluído**: O modal "Treino Concluído" deve ser totalmente visível e funcional em 320px
7. **Botões Funcionais**: Todos os botões ("Marcar", "Demo", "Finalizar Treino Incompleto") devem estar acessíveis e clicáveis

### Qualidade
8. **Sem Sobreposição**: Nenhum elemento deve sobrepor outro ou sair da área visível
9. **Navegação Fluida**: Scroll deve ser suave e intuitivo, sem conflitos entre scroll da página e scroll de componentes
10. **Performance Mantida**: Correções não devem impactar negativamente a performance da aplicação

## Tasks / Subtasks

- [x] **Análise e Auditoria Responsiva** (AC: 1,8)
  - [x] Auditar todos os componentes da aba de treino em 320px
  - [x] Identificar breakpoints problemáticos no CSS
  - [x] Mapear componentes com overflow horizontal

- [x] **Correção dos Cards de Treino** (AC: 2,3)
  - [x] Ajustar layout dos cards principais de treino
  - [x] Implementar text wrapping adequado para títulos longos
  - [x] Redimensionar elementos de status e métricas
  - [x] Testar com diferentes tamanhos de texto do sistema

- [x] **Correção dos Cards de Exercícios** (AC: 4,8)
  - [x] Ajustar layout dos cards individuais de exercício
  - [x] Reorganizar informações (séries, reps, descanso) para 320px
  - [x] Garantir que descrições de exercícios sejam totalmente visíveis
  - [x] Implementar quebra de linha inteligente para nomes longos

- [x] **Correção do Sistema de Popups** (AC: 5,6,9)
  - [x] Refatorar popups para usar scroll interno apenas
  - [x] Implementar max-height e overflow-y: auto nos containers internos
  - [x] Ajustar z-index e posicionamento dos modais
  - [x] Testar abertura/fechamento em 320px

- [x] **Correção do Modal de Treino Concluído** (AC: 6,7)
  - [x] Ajustar dimensões do modal para 320px
  - [x] Reorganizar layout interno do modal
  - [x] Garantir que botões estejam acessíveis
  - [x] Testar interação em diferentes cenários

- [ ] **Testes de Responsividade** (AC: 1-10)
  - [ ] Testar em 320px real (iPhone SE, dispositivos pequenos)
  - [ ] Validar scroll behavior em todos os componentes
  - [ ] Verificar touch targets (mínimo 44px)
  - [ ] Testar orientação portrait e landscape

## Dev Notes

### Contexto Técnico
Esta story foca especificamente na correção de problemas de responsividade identificados na aba de treino. O sistema atual funciona bem em resoluções maiores, mas apresenta problemas críticos em 320px.

### Componentes Afetados
- **Localização**: `app/dashboard/` e `components/dashboard/`
- **Componentes principais**: Cards de treino, lista de exercícios, popups de exercício, modal de conclusão
- **Framework**: Next.js 14 com Tailwind CSS
- **Padrões**: Seguir existing responsive patterns já implementados em outras seções

### Problemas Identificados (das imagens)
1. **Cards de treino**: Informações cortadas/sobrepostas
2. **Lista de exercícios**: Layout quebrado com dados ilegíveis  
3. **Popups**: Scroll duplo causando UX confusa
4. **Modal de conclusão**: Posicionamento inadequado em 320px

### Abordagem Técnica
- Usar `@media (max-width: 320px)` para casos específicos
- Implementar `overflow-y: auto` apenas em containers internos de popups
- Utilizar `flex-wrap` e `grid` responsivo para reorganização de elementos
- Aplicar `min-width: 0` para prevenir overflow em containers flex

### Padrões Existentes
- Seguir padrão de responsividade já implementado no dashboard principal
- Usar classes Tailwind existentes: `sm:`, `xs:`, custom breakpoints
- Manter consistência com outros modais do sistema

### Testing

#### Testing Standards
- **Localização dos testes**: `__tests__/components/dashboard/`
- **Frameworks**: Jest + React Testing Library
- **Testes visuais**: Deve incluir screenshot tests para 320px
- **Device testing**: Testar em dispositivos reais além de simuladores

#### Testes Específicos Necessários
- Rendering em 320px viewport
- Interaction tests para todos os botões
- Scroll behavior nos popups
- Modal opening/closing functionality
- Touch target accessibility (44px minimum)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-04 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record

*Esta seção será preenchida pelo agente de desenvolvimento durante a implementação*

### Agent Model Used
GitHub Copilot (Claude 3.5 Sonnet via VS Code)

### Debug Log References

**Componentes Auditados:**
- ✅ TreinoTab.tsx - Container principal da aba
- ✅ WorkoutTemplateCard.tsx - Cards de treino individuais  
- ✅ WorkoutDetailModal.tsx - Modal de detalhes do treino
- ✅ WorkoutModalContent.tsx - Conteúdo interno do modal
- ✅ WorkoutHistoryItem.tsx - Items do histórico

**Problemas Identificados:**
1. **WorkoutTemplateCard**: Layout problemático em 320px - textos truncados
2. **WorkoutModalContent**: Modal muito largo, overflow horizontal 
3. **WorkoutHistoryItem**: Informações sobrepostas
4. **Pagination**: Botões muito próximos, texto cortado
5. **Modal scroll**: Duplo scroll (página + modal)

### Completion Notes List
*A ser preenchido pelo dev agent*

### File List
*A ser preenchido pelo dev agent*

## QA Results

*Resultados da revisão QA do agente QA após implementação completa*
